# Generate simple microstructure

  This short script and associated DREAM.3D .json file will generate a simple microstructure with a 3D array of grains with some number of elements per grain. The current setting in the script will create a microstructure with 4 x 10 x 7 grains with 216 elements per grain.
  
  ## Python script
  
  To execute the script, users should navigate to the directory that contains this script and execute the following command using command prompt.
 
  ```bash
  python generate_simple_ms.py
  ```
  
  Users can also execute these scripts in an interactive version of Python. First, execute the "ipython" command in a command prompt window to start an interactive session:
  
  ```bash
  ipython
  ```
  
  Then execute the following commands:
  
  ```python
  import generate_simple_ms as gen_ms # Import the script
  gen_ms.main() # Execute the 'main()' function
  ```
  
  The two variables that should be changed in the script are:
  
  ```python
    # Number of elements per side for each grain, i.e., a value of 3 will create a microstructure with 3^3 = 27 elements per grain
    num_elem_side = 6
    
    # Number of desired grains in the X, Y, and Z directions
    grains_shape = np.asarray((4,10,7))
  ```  
  
  The default setting in the script will create the following microstructure, show here with unique grains. As listed, there are 4, 10, and 7 grains in the X, Y, and Z directions, respectively. 
  
  ![grain_IDs](https://user-images.githubusercontent.com/74416866/118996464-8e8a9800-b94d-11eb-8f4c-eacc0fc8954a.png)
  
  The same microstructure with elements displayed is shown below. As noted, there are 6 elements per side for each grain, which results in 6^3 = 216 elements per grain.
  
  ![grain_IDs_with_elements](https://user-images.githubusercontent.com/74416866/118996809-cdb8e900-b94d-11eb-8dba-0f5cf5946d81.png)
  
  
  This microstructure is sometimes simulated in manuscripts but may be difficult for users to generate. One example of where such a microstructure has been used is the following reference (see Fig. 2):
  
  Castelluccio, G. M. & McDowell, D. L. Microstructure and mesh sensitivities of mesoscale surrogate driving force measures for transgranular fatigue cracks in polycrystals. *Mater. Sci. Eng. A* **639**, 626â€“639 (2015). https://doi.org/10.1016/j.msea.2015.05.048.
  
  ## DREAM.3D pipeline
  
  The .json file here will read in the .txt file generated by the Python script. Users will then point to one of the available .dream3d files from the [src folder](https://github.com/prisms-center/Fatigue/tree/main/src) to assign the desired crystallographic texture to the grain (e.g., random (uniform), cubic, rolled, etc.).
  
  NOTE: Users will need to manually change where subsequent files are stored (e.g., .csv file with feature data, .vtk file with microstructure information at each voxel, .dream3d file that contains the entire microstructure, etc.).
  
  ## Notes for user with the generate_microstructures.py script and PRISMS-Fatigue
  
